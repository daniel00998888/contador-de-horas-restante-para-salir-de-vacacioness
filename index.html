import sympy as sp
import numpy as np
from scipy.integrate import quad

def saludo_cordial():
    print("¡Hola! Buenas, un gusto en volverte a ver. ¿En qué puedo ayudarte hoy con tus tareas de matemáticas?")

def resolver_ecuacion(ecuacion):
    x = sp.symbols('x')
    solucion = sp.solve(ecuacion, x)
    return solucion

def derivar_funcion(funcion):
    x = sp.symbols('x')
    derivada = sp.diff(funcion, x)
    return derivada

def integrar_funcion(funcion):
    x = sp.symbols('x')
    integral = sp.integrate(funcion, x)
    return integral

def calcular_area_bajo_curva(funcion, a, b):
    func = sp.lambdify(sp.symbols('x'), funcion)
    area, _ = quad(func, a, b)
    return area

def menu():
    saludo_cordial()
    while True:
        print("\nOpciones:")
        print("1. Resolver una ecuación")
        print("2. Derivar una función")
        print("3. Integrar una función")
        print("4. Calcular el área bajo la curva")
        print("5. Salir")
        opcion = input("Elige una opción: ")

        if opcion == '1':
            ecuacion = input("Introduce la ecuación (ej. x**2 - 4): ")
            solucion = resolver_ecuacion(ecuacion)
            print(f"Solución: {solucion}")
        elif opcion == '2':
            funcion = input("Introduce la función (ej. x**2): ")
            derivada = derivar_funcion(funcion)
            print(f"Derivada: {derivada}")
        elif opcion == '3':
            funcion = input("Introduce la función (ej. x**2): ")
            integral = integrar_funcion(funcion)
            print(f"Integral: {integral}")
        elif opcion == '4':
            funcion = input("Introduce la función (ej. x**2): ")
            a = float(input("Introduce el límite inferior a: "))
            b = float(input("Introduce el límite superior b: "))
            area = calcular_area_bajo_curva(funcion, a, b)
            print(f"Área bajo la curva de {a} a {b}: {area}")
        elif opcion == '5':
            print("¡Hasta luego! Fue un placer ayudarte.")
            break
        else:
            print("Opción no válida. Inténtalo de nuevo.")

if __name__ == "__main__":
    menu()
